### **[사용자 관점]**

1. 유저는 서비스 내에서 구매를 원하는 상품을 검색, 조회할 수 있다.

   > 상품은 카테고리, 검색어 등을 통해 검색 가능하다.
>
2. 유저는 특정 상품을 즐겨찾기로 등록할 수 있다.
3. 유저는 여러 상품을 장바구니 형태로 주문요청 한다.

   > 여러 판매자의 서로 다른 상품에 대한 주문요청이 올 수 있다.
   >
   >
   > 주문요청이 완료되어 주문이 생성되면, 해당 물품들의 수량을 우선 감소시킨다.
   >
   > 유저는 배송정보 등을 미리 등록하여 관리할 수 있어야 한다.
>
4. 유저는 해당 주문의 결제를 진행한다.

   > 주문상태는 이 결제가 완료될 시에 [결제대기] -> [발송대기] 로 변경된다.
>
5. 유저는 본인의 주문정보를 조회 및 취소할 수 있다.

   > [결제대기], [발송대기] 상태의 주문만 취소요청할 수 있으며,
   >
   >
   > 해당 주문의 취소가 완료되면 수량을 원복 시킨다.
   >
   > 만약 결제가 되어있다면 해당 결제의 취소 또한 진행한다.
>

### **[판매자 관점]**

1. 판매자는 본인의 상점 정보를 등록한다.

   > 판매금액 수취 계좌 등 빌링 관련 정보 또한 포함된다.
    - 결제를 수취할 사업자등록증 정보
   >
2. 판매자는 본인의 상점에서 판매할 물품 정보를 등록할 수 있다.

   > 물품 카테고리, 이름, 가격, 상세정보, 잔여 수량 등이 이에 해당하는데,
   >
   >
   > 본 시나리오에서는 이미지는 다루지 않는다.
>
3. 판매자는 본인의 상품 정보를 조회 및 수정할 수 있다.

   > 판매자는 외부 플랫폼에서도 본인의 상품을 판매하고 있을 수 있으므로
   >
   >
   > 물품의 잔여수량을 수정할 수 있다.
>
4. 판매자는 본인 상품의 주문 정보를 조회 및 변경 요청 할 수 있다.

   > 주문정보의 상태
   >
   > - 결제 대기
   > - 발송 대기 ( 판매자는 결제가 완료된 품목에 한해서만 변경 요청을 통해 발송시작 상태로 변경 가능하다. )
   > - 발송 시작
   > - 주문 취소
   >
   > 주문정보
   >
   > - 구매자 정보 ( 이름, 연락처, 주소 등 )
   > - 대상 물품 정보 ( 기본 정보 + 주문수량 )
   > - 주문 상태
5. 판매자는 플랫폼을 통한 본인의 판매 수익을 조회할 수 있다.


*<i>💡 이 시나리오를 선택하면, 개발 상황 또는 장애대응 훈련에서 아래와 같은 상황을 맞닥뜨릴 수 있습니다.</i>*
- 여러 사용자가 동일한 상품에 대한 주문을 포함하는 경우, 동시성 문제가 발생할 수 있음.
- 판매자의 잔여수량 수정과 상품 주문 요청이 겹치는 경우, 동시성 문제가 발생할 수 있음.
    - Transaction Control, DB Isolation 등이 필요
- 여러 사용자가 동시에 결제 요청을 할 경우, 결제 서비스에서 동시성 문제가 발생할 수 있음.
    - 예) 대기열시스템, Circuit breaker, Fallback 고려
